import{Q as l}from"./QSelect.95d1ba5d.js";import{Q as r}from"./QToolbar.09e0d651.js";import{t as d,Q as p}from"./admin-editor-toolbar.0214fc2a.js";import{_ as m,cj as g,ag as u,y as i,z as c,B as s,C as h,E as P,N as f,L as n}from"./index.f5c4a8b3.js";import"./use-key-composition.ebc3bdb8.js";import"./use-dark.cff9e6be.js";import"./uid.42677368.js";import"./QItem.aee696dd.js";import"./QItemLabel.df6b4212.js";import"./QMenu.73150e5a.js";import"./use-tick.3dc8c6a4.js";import"./QDialog.b086a01f.js";import"./format.c738b4f5.js";import"./rtl.b51694b1.js";import"./QTooltip.6ebeb36a.js";import"./use-fullscreen.e623e177.js";const b={name:"AdminPages",data:()=>({selectedPage:null}),computed:{...g(n,["editingPage","navigation"]),pageList(){return this.navigation.map(({id:e,name:t})=>({id:e,name:t}))}},watch:{selectedPage(){this.editingPage=this.navigation.filter(({id:e})=>e==this.selectedPage.id).shift()}},methods:{...u(n,["updatePages","upsertRec"]),updateContents(){this.upsertRec("pages",this.editingPage).then(()=>{this.$q.notify({message:"Page contents updated.",position:"top-right",color:"positive",classes:"q-mt-xl"})})}},created(){this.toolbar=d()},mounted(){this.selectedPage=this.pageList[0]}};function V(e,t,v,w,y,o){return i(),c("div",null,[s(r,{class:"flex row justify-between bg-grey-3 q-mb-sm shadow-1"},{default:h(()=>[s(l,{modelValue:e.selectedPage,"onUpdate:modelValue":t[0]||(t[0]=a=>e.selectedPage=a),options:o.pageList,label:"Select Page to Edit",style:{width:"300px"},dense:"","option-label":"name"},null,8,["modelValue","options"])]),_:1}),e.editingPage?(i(),P(p,{key:0,modelValue:e.editingPage.contents,"onUpdate:modelValue":t[1]||(t[1]=a=>e.editingPage.contents=a),"min-height":"80vh",placeholder:"Page content ...",definitions:{update:{tip:"Update",icon:"cloud_upload",handler:o.updateContents}},toolbar:e.toolbar},null,8,["modelValue","definitions","toolbar"])):f("",!0)])}var T=m(b,[["render",V]]);export{T as default};
