import{Q as S}from"./QPage.e78192f4.js";import{_ as v,y as a,z as d,K as b,L as $,E as f,C as o,B as s,A as u,H as h,N as g,ck as y,M as D,G as Q,Q as x,F as _,D as L,ce as E,X as M,bB as B}from"./index.f5c4a8b3.js";import{Q as T}from"./QToolbarTitle.5561700f.js";import{Q as H,a as V}from"./QItem.aee696dd.js";import{Q as G}from"./QList.e5f95b0b.js";import{Q as F}from"./QMenu.73150e5a.js";import{Q as I}from"./QToolbar.09e0d651.js";import{Q as U}from"./QInput.fca7f57e.js";import{Q as q,a as A}from"./QTable.fbe942a5.js";import{u as K}from"./index.b8f946b7.js";import{Q as w}from"./QCardSection.754e198f.js";import{Q as j}from"./QImg.24f4eca2.js";import{Q as O}from"./QCard.f7f7b988.js";import{f as k,p as P}from"./index.6e3da59d.js";import{f as C}from"./index.58cc3f89.js";import"./use-dark.cff9e6be.js";import"./use-tick.3dc8c6a4.js";import"./use-key-composition.ebc3bdb8.js";import"./uid.42677368.js";import"./QSelect.95d1ba5d.js";import"./QItemLabel.df6b4212.js";import"./QDialog.b086a01f.js";import"./format.c738b4f5.js";import"./rtl.b51694b1.js";import"./use-fullscreen.e623e177.js";const z={name:"ContactPage"};function X(e,n,r,c,l,t){return a(),d("div",null,"Contact Page")}var J=v(z,[["render",X]]);const R={name:"GalleryPhotoCard",props:["photo"],computed:{...b($,["photos"]),date(){return k(P(this.photo.date_added),"PP")}}},W={class:"text-h6"},Y={class:"text-subtitle1"},Z={key:1,controls:"",style:{"max-height":"300px"}},ee=["type","src"];function te(e,n,r,c,l,t){return a(),f(O,{flat:"",bordered:""},{default:o(()=>[s(w,null,{default:o(()=>[u("div",W,h(r.photo.name),1),u("div",Y,h(t.date),1)]),_:1}),s(w,null,{default:o(()=>[r.photo.mime.includes("image")?(a(),f(j,{key:0,src:r.photo.file_location,style:{"max-height":"300px"},fit:"contain"},null,8,["src"])):g("",!0),r.photo.mime.includes("video")?(a(),d("video",Z,[u("source",{type:r.photo.mime,src:r.photo.file_location},null,8,ee)])):g("",!0)]),_:1})]),_:1})}var ae=v(R,[["render",te]]);const oe={name:"GalleryPage",components:{GalleryPhotoCard:ae},data:()=>({galleryID:null,filter:null}),computed:{...b($,["albums","display","photos"]),albumList(){if(!this.albums)return[];const e=y.exports.uniq(y.exports.flatten(this.albums.map(({photos:l})=>l))),n=y.exports.cloneDeep(this.albums).map(l=>(l.photos=l.photos.map(t=>this.photos.filter(i=>i.id==t).shift()),l.photos=l.photos.filter(({gallery:t})=>t==1),l)),r={id:K(),name:"Unsorted Photos",photos:this.photos.filter(({id:l})=>!e.includes(l)).filter(({gallery:l})=>l==1)};let c=[];return r.photos.length>0&&c.push(r),n.length>0&&(c=[...c,...n]),c},gallery(){const e=this.galleryID?y.exports.cloneDeep(this.albumList.filter(({id:n})=>n==this.galleryID).shift()):y.exports.cloneDeep(this.albumList[0]);return e||[]}}},ne={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"};function re(e,n,r,c,l,t){const i=D("gallery-photo-card");return a(),d(_,null,[s(I,{class:"justify-between"},{default:o(()=>[s(T,null,{default:o(()=>[Q(h(t.gallery.name),1)]),_:1}),s(x,{icon:"photo_album",label:e.display.gt.sm?"Albums":"",round:e.display.lt.md},{default:o(()=>[s(F,{"auto-close":""},{default:o(()=>[s(G,{separator:""},{default:o(()=>[(a(!0),d(_,null,L(t.albumList,m=>(a(),f(H,{key:`photo-album-${m.id}`,clickable:"",onClick:p=>e.galleryID=m.id,active:m.id==t.gallery.id,"active-class":"bg-grey-3 text-black text-bold"},{default:o(()=>[s(V,null,{default:o(()=>[Q(h(m.name),1)]),_:2},1024)]),_:2},1032,["onClick","active"]))),128))]),_:1})]),_:1})]),_:1},8,["label","round"])]),_:1}),s(q,{flat:"",bordered:"",grid:"",rows:t.gallery.photos,filter:e.filter,"hide-header":""},{"top-right":o(()=>[s(U,{borderless:"",dense:"",debounce:"300",modelValue:e.filter,"onUpdate:modelValue":n[0]||(n[0]=m=>e.filter=m),placeholder:"Search Album",clearable:"",onKeydown:n[1]||(n[1]=E(m=>e.filter="",["esc"]))},{append:o(()=>[s(M,{name:"search"})]),_:1},8,["modelValue"])]),item:o(m=>[u("div",ne,[s(i,{photo:m.row},null,8,["photo"])])]),_:1},8,["rows","filter"])],64)}var se=v(oe,[["render",re]]);const le={name:"UpcomingEvents",props:["events","title"],computed:{...b($,["display"])},created(){this.columns=[{label:"Name",name:"event-name",field:"name",align:"left",headerClasses:"bg-grey-3"},{label:"Date",name:"event-date",field:"event_date",align:"left",headerClasses:"bg-grey-3",format:e=>k(P(e),"PP")},{label:"Start Time",name:"event-start-time",field:"start_time",align:"left",headerClasses:"bg-grey-3",format:e=>{if(!e)return"";const n=`${C(new Date,{representation:"date"})} ${e}`,r=P(n);return k(r,"p")}},{label:"Location",name:"event-location",field:"location",align:"left",headerClasses:"bg-grey-3"},{label:"",name:"view-event",align:"right",headerClasses:"bg-grey-3"}]}},ie={class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"},de={class:"q-table__grid-item-card q-table__card"},me={key:0,class:"q-table__grid-item-row"},ce={class:"q-table__grid-item-title"},ue={class:"q-table__grid-item-value"},pe=["innerHTML"],fe=["innerHTML"],_e={key:1,class:"q-table__grid-item-row flex justify-end"};function he(e,n,r,c,l,t){return a(),d(_,null,[s(I,{color:"bg-grey-3"},{default:o(()=>[s(T,null,{default:o(()=>[Q(h(r.title),1)]),_:1})]),_:1}),s(q,{columns:e.columns,rows:r.events,"row-key":"id",separator:"cell",grid:e.display.lt.md},{"body-cell-view-event":o(i=>[s(A,null,{default:o(()=>[s(x,{round:"",flat:"",dense:"",icon:"pageview",to:i.row.path},null,8,["to"])]),_:2},1024)]),item:o(({row:i,cols:m})=>[u("div",ie,[u("div",de,[(a(!0),d(_,null,L(m,(p,N)=>(a(),d(_,{key:`event-card-${i.id}-${N}`},[p.name!="view-event"?(a(),d("div",me,[u("div",ce,h(p.label),1),u("div",ue,[p.format?(a(),d("div",{key:1,innerHTML:p.format(i[p.field])},null,8,fe)):(a(),d("div",{key:0,innerHTML:i[p.field]},null,8,pe))])])):(a(),d("div",_e,[s(x,{round:"",flat:"",dense:"",icon:"pageview",to:i.path},null,8,["to"])]))],64))),128))])])]),_:1},8,["columns","rows","grid"])],64)}var ge=v(le,[["render",he]]);const ve={name:"EventsPage",components:{EventsTable:ge},computed:{...b($,["events"]),previous(){return this.events.filter(({event_date:e})=>e<C(new Date,{representation:"date"}))},upcoming(){return this.events.filter(({event_date:e})=>e>=C(new Date,{representation:"date"}))}}};function ye(e,n,r,c,l,t){const i=D("events-table");return a(),d(_,null,[t.upcoming.length>0?(a(),f(i,{key:0,events:t.upcoming,title:"Upcoming Events"},null,8,["events"])):g("",!0),t.previous.length>0?(a(),f(i,{key:1,events:t.previous,title:"Previous Events"},null,8,["events"])):g("",!0)],64)}var be=v(ve,[["render",ye]]);const $e={name:"IndexPage",components:{ContactPage:J,GalleryPage:se,EventsPage:be},computed:{...b($,["navigation"]),page(){if(!this.navigation)return{};const e=this.navigation.filter(({path:n})=>n==this.$route.fullPath).shift();return e||this.pageNotFound(),e},componentName(){return this.page.component_name}},methods:{pageNotFound(){this.$router.push("/404")}}},Qe=["innerHTML"];function xe(e,n,r,c,l,t){return a(),f(S,{class:"q-mx-xl"},{default:o(()=>[t.page?(a(),d("div",{key:0,innerHTML:t.page.contents},null,8,Qe)):g("",!0),t.componentName?(a(),f(B(t.componentName),{key:1})):g("",!0)]),_:1})}var Je=v($e,[["render",xe]]);export{Je as default};
