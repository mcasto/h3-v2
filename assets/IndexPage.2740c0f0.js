import{Q as B}from"./QPage.8559c710.js";import{_,y as s,z as u,K as b,L as y,E as d,C as a,B as o,A as v,H as p,N as h,ck as Q,M as T,G as g,Q as N,F as f,D as x,X as V,bB as G}from"./index.87f69dec.js";import{Q as E}from"./QToolbarTitle.15f42d50.js";import{Q as F,a as M}from"./QItem.340c6d13.js";import{Q as U}from"./QList.3b72c76c.js";import{Q as q}from"./QMenu.47be176d.js";import{Q as L}from"./QToolbar.b61bf868.js";import{Q as A}from"./QInput.f0760d8f.js";import{Q as S,b as C,a as w}from"./QTable.21dbe13b.js";import{u as H}from"./index.901bb647.js";import{Q as D}from"./QCardSection.0c0f9265.js";import{Q as O}from"./QImg.29b9015d.js";import{Q as j}from"./QCard.bb936127.js";import{f as $,p as P}from"./index.6e3da59d.js";import{Q as I}from"./QTr.7d1f0eb0.js";import{f as k}from"./index.58cc3f89.js";import"./use-dark.69ba79e8.js";import"./use-tick.24e201e6.js";import"./use-key-composition.e3b3ae91.js";import"./uid.42677368.js";import"./QSelect.f41a3222.js";import"./QItemLabel.9126849d.js";import"./QDialog.d21a2a8e.js";import"./format.95aeb581.js";import"./rtl.b51694b1.js";import"./use-fullscreen.3a7e3da3.js";const z={name:"ContactPage"};function K(e,n,r,m,l,t){return s(),u("div",null,"Contact Page")}var X=_(z,[["render",K]]);const J={name:"GalleryPhotoCard",props:["photo"],computed:{...b(y,["photos"]),date(){return $(P(this.photo.date_added),"PP")}}},R={class:"text-h6"},W={class:"text-subtitle1"},Y={key:1,controls:"",style:{"max-height":"300px"}},Z=["type","src"];function ee(e,n,r,m,l,t){return s(),d(j,{flat:"",bordered:""},{default:a(()=>[o(D,null,{default:a(()=>[v("div",R,p(r.photo.name),1),v("div",W,p(t.date),1)]),_:1}),o(D,null,{default:a(()=>[r.photo.mime.includes("image")?(s(),d(O,{key:0,src:r.photo.file_location,style:{"max-height":"300px"},fit:"contain"},null,8,["src"])):h("",!0),r.photo.mime.includes("video")?(s(),u("video",Y,[v("source",{type:r.photo.mime,src:r.photo.file_location},null,8,Z)])):h("",!0)]),_:1})]),_:1})}var te=_(J,[["render",ee]]);const ae={name:"GalleryPage",components:{GalleryPhotoCard:te},data:()=>({galleryID:null,filter:null}),computed:{...b(y,["albums","photos"]),albumList(){if(!this.albums)return[];console.log({albums:this.albums});const e=[];this.albums.forEach(l=>{l.photos.forEach(t=>{e.push(t)})}),console.log({albumPhotos:e});const n=Q.exports.cloneDeep(this.albums).map(l=>(l.photos=l.photos.map(t=>this.photos.filter(i=>i.id==t).shift()),l.photos=l.photos.filter(({gallery:t})=>t==1),l));console.log({albums:n});const r={id:H(),name:"Unsorted Photos",photos:this.photos.filter(({id:l})=>!e.includes(l)).filter(({gallery:l})=>l==1)};console.log({unsorted:r});let m=[];return r.photos.length>0&&m.push(r),n.length>0&&(m=[...m,...n]),console.log({ret:m}),m},gallery(){const e=this.galleryID?Q.exports.cloneDeep(this.albumList.filter(({id:n})=>n==this.galleryID).shift()):Q.exports.cloneDeep(this.albumList[0]);return e||[]}}},oe={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"};function re(e,n,r,m,l,t){const i=T("gallery-photo-card");return s(),u(f,null,[o(L,{class:"justify-between"},{default:a(()=>[o(E,null,{default:a(()=>[g(p(t.gallery.name),1)]),_:1}),o(N,{icon:"photo_album",label:"Albums"},{default:a(()=>[o(q,{"auto-close":""},{default:a(()=>[o(U,{separator:""},{default:a(()=>[(s(!0),u(f,null,x(t.albumList,c=>(s(),d(F,{key:`photo-album-${c.id}`,clickable:"",onClick:he=>e.galleryID=c.id,active:c.id==t.gallery.id,"active-class":"bg-grey-3 text-black text-bold"},{default:a(()=>[o(M,null,{default:a(()=>[g(p(c.name),1)]),_:2},1024)]),_:2},1032,["onClick","active"]))),128))]),_:1})]),_:1})]),_:1})]),_:1}),o(S,{flat:"",bordered:"",grid:"",rows:t.gallery.photos,filter:e.filter,"hide-header":""},{"top-right":a(()=>[o(A,{borderless:"",dense:"",debounce:"300",modelValue:e.filter,"onUpdate:modelValue":n[0]||(n[0]=c=>e.filter=c),placeholder:"Search Album"},{append:a(()=>[o(V,{name:"search"})]),_:1},8,["modelValue"])]),item:a(c=>[v("div",oe,[o(i,{photo:c.row},null,8,["photo"])])]),_:1},8,["rows","filter"])],64)}var se=_(ae,[["render",re]]);const ne={name:"UpcomingEvents",props:["events","title"],created(){this.columns=[{label:"Name",name:"event-name",field:"name",align:"left",headerClasses:"bg-grey-3"},{label:"Date",name:"event-date",field:"event_date",align:"left",headerClasses:"bg-grey-3",format:e=>$(P(e),"PP")},{label:"Start Time",name:"event-start-time",field:"start_time",align:"left",headerClasses:"bg-grey-3",format:e=>{if(!e)return"";const n=`${k(new Date,{representation:"date"})} ${e}`,r=P(n);return $(r,"p")}},{label:"Location",name:"event-location",field:"location",align:"left",headerClasses:"bg-grey-3"}]}};function le(e,n,r,m,l,t){return s(),u(f,null,[o(L,{color:"bg-grey-3"},{default:a(()=>[o(E,null,{default:a(()=>[g(p(r.title),1)]),_:1})]),_:1}),o(S,{columns:e.columns,rows:r.events,"row-key":"id",separator:"cell"},{header:a(i=>[o(I,{props:i},{default:a(()=>[(s(!0),u(f,null,x(i.cols,c=>(s(),d(C,{key:c.name,props:i},{default:a(()=>[g(p(c.label),1)]),_:2},1032,["props"]))),128)),o(C,{"auto-width":"",class:"bg-grey-3"})]),_:2},1032,["props"])]),body:a(i=>[o(I,{props:i},{default:a(()=>[(s(!0),u(f,null,x(i.cols,c=>(s(),d(w,{key:c.name,props:i},{default:a(()=>[g(p(c.value),1)]),_:2},1032,["props"]))),128)),o(w,{"auto-width":""},{default:a(()=>[o(N,{round:"",flat:"",dense:"",icon:"pageview",to:i.row.path},null,8,["to"])]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["columns","rows"])],64)}var ie=_(ne,[["render",le]]);const ce={name:"EventsPage",components:{EventsTable:ie},computed:{...b(y,["events"]),previous(){return this.events.filter(({event_date:e})=>e<k(new Date,{representation:"date"}))},upcoming(){return this.events.filter(({event_date:e})=>e>=k(new Date,{representation:"date"}))}}};function me(e,n,r,m,l,t){const i=T("events-table");return s(),u(f,null,[t.upcoming.length>0?(s(),d(i,{key:0,events:t.upcoming,title:"Upcoming Events"},null,8,["events"])):h("",!0),t.previous.length>0?(s(),d(i,{key:1,events:t.previous,title:"Previous Events"},null,8,["events"])):h("",!0)],64)}var ue=_(ce,[["render",me]]);const de={name:"IndexPage",components:{ContactPage:X,GalleryPage:se,EventsPage:ue},computed:{...b(y,["navigation"]),page(){if(!this.navigation)return{};const e=this.navigation.filter(({path:n})=>n==this.$route.fullPath).shift();return e||this.pageNotFound(),e},componentName(){return this.page.component_name}},methods:{pageNotFound(){this.$router.push("/404")}}},pe=["innerHTML"];function fe(e,n,r,m,l,t){return s(),d(B,{class:"q-mx-xl"},{default:a(()=>[t.page?(s(),u("div",{key:0,innerHTML:t.page.contents},null,8,pe)):h("",!0),t.componentName?(s(),d(G(t.componentName),{key:1})):h("",!0)]),_:1})}var Ae=_(de,[["render",fe]]);export{Ae as default};
