import{Q as v,b as i,a as r,c as k}from"./QTable.df768e7a.js";import{_ as w,K as y,ag as C,y as n,E as c,C as o,N as Q,L as f,B as a,z as d,D as b,F as h,Q as m,f as $,cd as g,A as _,G as T,H as u}from"./index.a2f3cfc0.js";import{Q as p}from"./QTr.55fd2f23.js";import"./use-dark.7816c6ad.js";import"./QList.db98f5a6.js";import"./QSelect.9894fc80.js";import"./use-key-composition.f647aa55.js";import"./uid.42677368.js";import"./QItem.70400c55.js";import"./QItemLabel.f40530fc.js";import"./QMenu.e8a7b6a2.js";import"./use-tick.7958a757.js";import"./QDialog.b2ff892f.js";import"./format.de98cca4.js";import"./rtl.b51694b1.js";import"./use-fullscreen.f0adf219.js";const V={name:"AdminContacts",data:()=>({deleteItems:[]}),computed:{...y(f,["contacts"])},methods:{...C(f,["deleteRec","deleteRecs"])},created(){this.columns=[{label:"Name",field:"name",name:"contact-name",sortable:!0},{label:"E-Mail",field:"email",name:"contact-email",sortable:!0},{label:"Subject",field:"subject",name:"contact-subject",sortable:!0},{label:"Date",field:"date",name:"contact-date",sortable:!0}]}},x={key:0},B={key:1},N=["href"],j=["innerHTML"];function R(l,s,S,A,D,E){return l.contacts?(n(),c(v,{key:0,columns:l.columns,rows:l.contacts,"row-key":"id",pagination:{rowsPerPage:10},class:"q-mx-xs"},{header:o(e=>[a(p,{props:e},{default:o(()=>[a(i,{"auto-width":""}),(n(!0),d(h,null,b(e.cols,t=>(n(),c(i,{key:t.name,props:e},{default:o(()=>[T(u(t.label),1)]),_:2},1032,["props"]))),128)),a(i,{"auto-width":""},{default:o(()=>[a(m,{round:"",flat:"",icon:"remove_done",onClick:s[0]||(s[0]=t=>l.deleteRecs("contacts",l.deleteItems))})]),_:1})]),_:2},1032,["props"])]),body:o(e=>[a(p,{props:e},{default:o(()=>[a(r,{"auto-width":""},{default:o(()=>[a(m,{size:"sm",round:"",flat:"",dense:"",onClick:t=>e.expand=!e.expand,icon:e.expand?"expand_less":"chevron_right"},null,8,["onClick","icon"])]),_:2},1024),(n(!0),d(h,null,b(e.cols,t=>(n(),c(r,{key:t.name,props:e},{default:o(()=>[t.name!="contact-email"?(n(),d("div",x,u(t.value),1)):(n(),d("div",B,[_("a",{href:`mailto:${t.value}?subject=RE: ${e.row.subject}`},u(t.value),9,N)]))]),_:2},1032,["props"]))),128)),a(r,null,{default:o(()=>[a(m,{icon:"delete",round:"",flat:"",onClick:t=>l.deleteRec("contacts",e.row)},null,8,["onClick"]),a(k,{modelValue:l.deleteItems,"onUpdate:modelValue":s[1]||(s[1]=t=>l.deleteItems=t),val:e.row},null,8,["modelValue","val"])]),_:2},1024)]),_:2},1032,["props"]),$(a(p,{props:e},{default:o(()=>[a(r,{colspan:e.cols.length+1},{default:o(()=>[_("div",{class:"text-left",innerHTML:e.row.body,style:{"white-space":"normal"}},null,8,j)]),_:2},1032,["colspan"])]),_:2},1032,["props"]),[[g,e.expand]])]),_:1},8,["columns","rows"])):Q("",!0)}var Z=w(V,[["render",R]]);export{Z as default};
